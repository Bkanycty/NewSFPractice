<!--  наследуемся от шаблона default.html, который мы создавали ещё во времена flatpages -->
{% extends 'flatpages/default.html' %}
{% load custom_filters %}
<!-- Название у нас будет proudcts -->
{% block title %}
Новости
{% endblock title %}

<!-- В контенте на странице мы выводим все товары -->
{% block content %}
{% if not posts %}
<h1> Новостей нет </h1>
{% else %}
<h1>Все новости: {{ posts|length }}</h1>
<hr>
<table>
    <tr>
        <td>Заголовок </td>
        <td>Дата публикации </td>
        <td>Предпросмотр </td>
    </tr>
    {% for post in posts %}
        <tr>
            <td><a href="http://127.0.0.1:8000/news/{{ post.id }}">{{ post.title|censor }}</a>
            <td>{{ post.dateCreation|date:'d-M-Y h:m' }}</td>
            <td>{{ post.preview|censor }}</td>
        </tr>
    {% endfor %}
</table>
{% endif %}
{% endblock content %}